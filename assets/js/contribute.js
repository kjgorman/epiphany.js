// Generated by CoffeeScript 1.3.3
(function() {
  var appendClass, contrib;

  contrib = io.connect('/contribute', {
    'sync disconnect on unload': true
  });

  appendClass = function(idx, cls) {
    var ans, base, row, text;
    console.log(cls);
    row = $("<div id='" + idx + "' class='row'></div>");
    base = $("<div class='span4'><textarea class='span4'>" + cls.base + "</textarea></div>");
    ans = $("<div class='span4'><textarea class='span4'>" + cls.clsans + "</textarea></div>");
    text = $("<div class='span4'><textarea class='span4'>" + cls.clstext + "</textarea></div>");
    row.append(base).append(ans).append(text);
    return $(".container").append(row);
  };

  contrib.on('class-down', function(data) {
    var cls, idx, _i, _len, _results;
    console.log(data);
    _results = [];
    for (cls = _i = 0, _len = data.length; _i < _len; cls = ++_i) {
      idx = data[cls];
      console.log(cls);
      _results.push(appendClass(idx, cls));
    }
    return _results;
  });

}).call(this);
